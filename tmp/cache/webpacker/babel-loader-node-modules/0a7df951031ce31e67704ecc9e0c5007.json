{"ast":null,"code":"var GAME = {};\nimport { popWindows } from '../popWindows/popWindows';\n\nGAME.initialize = function (playerLeft, playerRight, width, height, fill) {\n  GAME.game = true;\n  GAME.playerLeft = playerLeft;\n  GAME.playerRight = playerRight;\n  GAME.data = {\n    playerLeft: GAME.playerLeft,\n    playerRight: GAME.playerRight,\n    direction: 0,\n    score: {},\n    attributes: {}\n  };\n  GAME.scoreLeft = 0;\n  GAME.scoreRight = 0;\n  GAME.width = width;\n  GAME.height = height;\n  GAME.fill = fill;\n  GAME.speed = 5;\n  GAME.ballWidth = 15;\n  GAME.ballHeight = 15;\n  GAME.ballX = GAME.width / 2 - GAME.ballWidth / 2;\n  GAME.ballY = GAME.height / 2 - GAME.ballHeight / 2;\n  GAME.ballDirectionX = -1;\n  GAME.ballDirectionY = Math.random();\n  GAME.paddleWidth = 30;\n  GAME.paddleHeight = 120;\n  GAME.paddleOffset = 20;\n  GAME.leftPaddleX = GAME.paddleOffset;\n  GAME.leftPaddleY = GAME.height / 2 - GAME.paddleHeight / 2;\n  GAME.leftPaddleDirectionY = 0;\n  GAME.rightPaddleX = GAME.width - GAME.paddleWidth - GAME.paddleOffset;\n  GAME.rightPaddleY = GAME.height / 2 - GAME.paddleHeight / 2;\n  GAME.rightPaddleDirectionY = 0;\n  GAME.paddleMinY = 0;\n  GAME.paddleMaxY = GAME.height - GAME.paddleHeight;\n  GAME.ballMinPaddleX = GAME.leftPaddleX + GAME.paddleWidth;\n  GAME.ballMaxPaddleX = GAME.rightPaddleX - GAME.ballWidth;\n};\n\nGAME.terminate = function () {\n  GAME.data.score = {\n    left: GAME.scoreLeft,\n    right: GAME.scoreRight\n  };\n  GAME.channel.perform(\"score\", GAME.data);\n};\n\nGAME.reset = function () {\n  GAME.ballX = GAME.width / 2 - GAME.ballWidth / 2;\n  GAME.ballY = GAME.height / 2 - GAME.ballHeight / 2;\n  GAME.ballDirectionX *= -1;\n  GAME.ballDirectionY = Math.random();\n  GAME.leftPaddleY = GAME.height / 2 - GAME.paddleHeight / 2;\n  GAME.rightPaddleY = GAME.height / 2 - GAME.paddleHeight / 2;\n  GAME.leftPaddleDirectionY = 0;\n  GAME.rightPaddleDirectionY = 0;\n};\n\nGAME.broadcast = function () {\n  GAME.data.attributes = {\n    score: {\n      left: GAME.scoreLeft,\n      right: GAME.scoreRight\n    },\n    ball: {\n      width: GAME.ballWidth,\n      height: GAME.ballHeight,\n      x: GAME.ballX,\n      y: GAME.ballY,\n      fill: GAME.fill\n    },\n    leftPaddle: {\n      width: GAME.paddleWidth,\n      height: GAME.paddleHeight,\n      x: GAME.leftPaddleX,\n      y: GAME.leftPaddleY,\n      fill: GAME.fill\n    },\n    rightPaddle: {\n      width: GAME.paddleWidth,\n      height: GAME.paddleHeight,\n      x: GAME.rightPaddleX,\n      y: GAME.rightPaddleY,\n      fill: GAME.fill\n    }\n  };\n  GAME.channel.perform(\"broadcast\", GAME.data);\n};\n\nGAME.leftPaddle_update = function () {\n  GAME.leftPaddleY += GAME.speed * GAME.leftPaddleDirectionY;\n\n  if (GAME.leftPaddleY < GAME.paddleMinY) {\n    GAME.leftPaddleY = 0;\n  } else if (GAME.leftPaddleY > GAME.paddleMaxY) {\n    GAME.leftPaddleY = GAME.paddleMaxY;\n  }\n};\n\nGAME.rightPaddle_update = function () {\n  GAME.rightPaddleY += GAME.speed * GAME.rightPaddleDirectionY;\n\n  if (GAME.rightPaddleY < GAME.paddleMinY) {\n    GAME.rightPaddleY = 0;\n  } else if (GAME.rightPaddleY > GAME.paddleMaxY) {\n    GAME.rightPaddleY = GAME.paddleMaxY;\n  }\n};\n\nGAME.ball_update = function () {\n  var ballX = GAME.ballX + GAME.speed * GAME.ballDirectionX;\n  var ballY = GAME.ballY + GAME.speed * GAME.ballDirectionY;\n\n  if (ballX < GAME.ballMinPaddleX) {\n    if (ballY >= GAME.leftPaddleY && ballY <= GAME.leftPaddleY + GAME.paddleHeight) {\n      GAME.ballDirectionX *= -1;\n    } else {\n      GAME.scoreRight += 1;\n      GAME.reset();\n    }\n  } else if (ballX > GAME.ballMaxPaddleX) {\n    if (ballY >= GAME.rightPaddleY && ballY <= GAME.rightPaddleY + GAME.paddleHeight) {\n      GAME.ballDirectionX *= -1;\n    } else {\n      GAME.scoreLeft += 1;\n      GAME.reset();\n    }\n  }\n\n  if (ballY < 0 || ballY > GAME.height) {\n    GAME.ballDirectionY *= -1;\n  }\n\n  GAME.ballX += GAME.speed * GAME.ballDirectionX;\n  GAME.ballY += GAME.speed * GAME.ballDirectionY;\n};\n\nGAME.score_update = function () {\n  if (GAME.scoreLeft == 5 || GAME.scoreRight == 5) GAME.game = false;\n};\n\nGAME.loop = function () {\n  if (GAME.game) {\n    GAME.broadcast();\n    GAME.leftPaddle_update();\n    GAME.rightPaddle_update();\n    GAME.ball_update();\n    GAME.score_update();\n    window.requestAnimationFrame(GAME.loop);\n  } else {\n    GAME.terminate();\n  }\n};\n\nexport default GAME;","map":{"version":3,"sources":["/pong_rails/app/javascript/nav/game.js"],"names":["GAME","popWindows","initialize","playerLeft","playerRight","width","height","fill","game","data","direction","score","attributes","scoreLeft","scoreRight","speed","ballWidth","ballHeight","ballX","ballY","ballDirectionX","ballDirectionY","Math","random","paddleWidth","paddleHeight","paddleOffset","leftPaddleX","leftPaddleY","leftPaddleDirectionY","rightPaddleX","rightPaddleY","rightPaddleDirectionY","paddleMinY","paddleMaxY","ballMinPaddleX","ballMaxPaddleX","terminate","left","right","channel","perform","reset","broadcast","ball","x","y","leftPaddle","rightPaddle","leftPaddle_update","rightPaddle_update","ball_update","score_update","loop","window","requestAnimationFrame"],"mappings":"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","sourcesContent":["let GAME = {};\nimport { popWindows } from '../popWindows/popWindows';\n\nGAME.initialize = function(playerLeft, playerRight, width, height, fill) {\n\tGAME.game = true;\n\n\tGAME.playerLeft = playerLeft;\n\tGAME.playerRight = playerRight;\n\tGAME.data = {\n\t\tplayerLeft: GAME.playerLeft,\n\t\tplayerRight: GAME.playerRight,\n\t\tdirection: 0,\n\t\tscore: {},\n\t\tattributes: {}\n\t};\n\n\tGAME.scoreLeft = 0;\n\tGAME.scoreRight = 0;\n\n\tGAME.width = width;\n\tGAME.height = height;\n\tGAME.fill = fill;\n\n\tGAME.speed = 5;\n\n\tGAME.ballWidth = 15;\n\tGAME.ballHeight = 15;\n\tGAME.ballX = (GAME.width / 2) - (GAME.ballWidth / 2);\n\tGAME.ballY = (GAME.height / 2) - (GAME.ballHeight / 2);\n\tGAME.ballDirectionX = -1;\n\tGAME.ballDirectionY = Math.random();\n\n\tGAME.paddleWidth = 30;\n\tGAME.paddleHeight = 120;\n\tGAME.paddleOffset = 20;\n\n\tGAME.leftPaddleX = GAME.paddleOffset;\n\tGAME.leftPaddleY = (GAME.height / 2) - (GAME.paddleHeight / 2);\n\tGAME.leftPaddleDirectionY = 0;\n\n\tGAME.rightPaddleX = GAME.width - GAME.paddleWidth - GAME.paddleOffset;\n\tGAME.rightPaddleY = (GAME.height / 2) - (GAME.paddleHeight / 2);\n\tGAME.rightPaddleDirectionY = 0;\n\n\tGAME.paddleMinY = 0;\n\tGAME.paddleMaxY = GAME.height - GAME.paddleHeight;\n\tGAME.ballMinPaddleX = GAME.leftPaddleX + GAME.paddleWidth;\n\tGAME.ballMaxPaddleX = GAME.rightPaddleX - GAME.ballWidth;\n};\n\nGAME.terminate = function() {\n\tGAME.data.score = {\n\t\tleft: GAME.scoreLeft,\n\t\tright: GAME.scoreRight\n\t};\n\tGAME.channel.perform(\"score\", GAME.data);\n};\n\nGAME.reset = function() {\n\tGAME.ballX = (GAME.width / 2) - (GAME.ballWidth / 2);\n\tGAME.ballY = (GAME.height / 2) - (GAME.ballHeight / 2);\n\tGAME.ballDirectionX *= -1;\n\tGAME.ballDirectionY = Math.random();\n\tGAME.leftPaddleY = (GAME.height / 2) - (GAME.paddleHeight / 2);\n\tGAME.rightPaddleY = (GAME.height / 2) - (GAME.paddleHeight / 2);\n\tGAME.leftPaddleDirectionY = 0;\n\tGAME.rightPaddleDirectionY = 0;\n};\n\nGAME.broadcast = function() {\n\tGAME.data.attributes = {\n\t\tscore: {\n\t\t\tleft: GAME.scoreLeft,\n\t\t\tright: GAME.scoreRight\n\t\t},\n\t\tball: {\n\t\t\twidth: GAME.ballWidth,\n\t\t\theight: GAME.ballHeight,\n\t\t\tx: GAME.ballX,\n\t\t\ty: GAME.ballY,\n\t\t\tfill: GAME.fill\n\t\t},\n\t\tleftPaddle: {\n\t\t\twidth: GAME.paddleWidth,\n\t\t\theight: GAME.paddleHeight,\n\t\t\tx: GAME.leftPaddleX,\n\t\t\ty: GAME.leftPaddleY,\n\t\t\tfill: GAME.fill\n\t\t},\n\t\trightPaddle: {\n\t\t\twidth: GAME.paddleWidth,\n\t\t\theight: GAME.paddleHeight,\n\t\t\tx: GAME.rightPaddleX,\n\t\t\ty: GAME.rightPaddleY,\n\t\t\tfill: GAME.fill\n\t\t}\n\t};\n\tGAME.channel.perform(\"broadcast\", GAME.data);\n};\n\nGAME.leftPaddle_update = function() {\n\tGAME.leftPaddleY += GAME.speed * GAME.leftPaddleDirectionY;\n\tif (GAME.leftPaddleY < GAME.paddleMinY) {\n\t\tGAME.leftPaddleY = 0;\n\t}\n\telse if (GAME.leftPaddleY > GAME.paddleMaxY) {\n\t\tGAME.leftPaddleY = GAME.paddleMaxY\n\t}\n};\n\nGAME.rightPaddle_update = function() {\n\tGAME.rightPaddleY += GAME.speed * GAME.rightPaddleDirectionY;\n\tif (GAME.rightPaddleY < GAME.paddleMinY) {\n\t\tGAME.rightPaddleY = 0;\n\t}\n\telse if (GAME.rightPaddleY > GAME.paddleMaxY) {\n\t\tGAME.rightPaddleY = GAME.paddleMaxY;\n\t}\n};\n\nGAME.ball_update = function() {\n\tlet ballX = GAME.ballX + GAME.speed * GAME.ballDirectionX;\n\tlet ballY = GAME.ballY + GAME.speed * GAME.ballDirectionY;\n\n\tif (ballX < GAME.ballMinPaddleX) {\n\t\tif (ballY >= GAME.leftPaddleY &&\n\t\t\tballY <= (GAME.leftPaddleY + GAME.paddleHeight)) {\n\t\t\t\tGAME.ballDirectionX *= -1;\n\t\t}\n\t\telse {\n\t\t\tGAME.scoreRight += 1;\n\t\t\tGAME.reset();\n\t\t}\n\t}\n\telse if (ballX > GAME.ballMaxPaddleX) {\n\t\tif (ballY >= GAME.rightPaddleY &&\n\t\t\tballY <= (GAME.rightPaddleY + GAME.paddleHeight)) {\n\t\t\tGAME.ballDirectionX *= -1;\n\t\t}\n\t\telse {\n\t\t\tGAME.scoreLeft += 1;\n\t\t\tGAME.reset();\n\t\t}\n\t}\n\n\tif (ballY < 0 || ballY > GAME.height) {\n\t\tGAME.ballDirectionY *= -1;\n\t}\n\n\tGAME.ballX += GAME.speed * GAME.ballDirectionX;\n\tGAME.ballY += GAME.speed * GAME.ballDirectionY;\n};\n\nGAME.score_update = function() {\n\tif (GAME.scoreLeft == 5 || GAME.scoreRight == 5)\n\t\tGAME.game = false;\n}\n\nGAME.loop = function() {\n\tif (GAME.game) {\n\t\tGAME.broadcast();\n\t\tGAME.leftPaddle_update();\n\t\tGAME.rightPaddle_update();\n\t\tGAME.ball_update();\n\t\tGAME.score_update();\n\t\twindow.requestAnimationFrame(GAME.loop);\n\t}\n\telse {\n\t\tGAME.terminate();\n\t}\n};\n\nexport default GAME;\n"]},"metadata":{},"sourceType":"module"}