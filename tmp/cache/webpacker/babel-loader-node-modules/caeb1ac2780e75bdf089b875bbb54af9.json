{"ast":null,"code":"import USER from \"./user\";\nimport { chatFunction } from \"../chat/index\";\nvar player;\nvar CHAT = {};\nCHAT.Collection = Backbone.Collection.extend({\n  url: function url() {\n    return \"/roomchat/index\";\n  }\n});\nCHAT.collection = new CHAT.Collection();\nCHAT.ViewRoomchats = Backbone.View.extend({\n  template: _.template(\"<li>\" + \"<label><%= roomname %></label>\" + \"<input type='password' id='password<%= roomname %>' placeholder='password'/>\" + \"<button id='room<%= roomname %>'>join</button>\" + \"<hr/>\" + \"</li>\"),\n  initialize: function initialize() {\n    this.collection.on(\"sync\", this.render, this);\n    this.collection.fetch();\n  },\n  render: function render() {\n    this.$(\"ul\").html(\"\");\n    this.collection.each(this.renderItem, this);\n  },\n  renderItem: function renderItem(item) {\n    this.$(\"ul\").append(this.template(item.attributes));\n  }\n});\nCHAT.View = Backbone.View.extend({\n  el: \"#main\",\n  initialize: function initialize() {\n    this.$el.html($(\"#chatTemplate\").html());\n    new CHAT.ViewRoomchats({\n      el: this.$(\"#chatroom\"),\n      collection: this.collection\n    });\n  }\n});\n\nCHAT.display = function () {\n  window.location.hash = \"#chat\";\n  player = USER.model.get(\"username\");\n  new CHAT.View({\n    collection: CHAT.collection\n  });\n  chatFunction();\n};\n\n$(\"#nav input[value='Chat']\").on(\"click\", CHAT.display);\nexport default CHAT;\nexport var player;","map":{"version":3,"sources":["/pong_rails/app/javascript/nav/chat.js"],"names":["USER","chatFunction","player","CHAT","Collection","Backbone","extend","url","collection","ViewRoomchats","View","template","_","initialize","on","render","fetch","$","html","each","renderItem","item","append","attributes","el","$el","display","window","location","hash","model","get"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,SAAQC,YAAR,QAA2B,eAA3B;AAEA,IAAIC,MAAJ;AAEA,IAAIC,IAAI,GAAG,EAAX;AAEAA,IAAI,CAACC,UAAL,GAAkBC,QAAQ,CAACD,UAAT,CAAoBE,MAApB,CAA2B;AAC5CC,EAAAA,GAAG,EAAE,eAAW;AACf,WAAO,iBAAP;AACA;AAH2C,CAA3B,CAAlB;AAKAJ,IAAI,CAACK,UAAL,GAAkB,IAAIL,IAAI,CAACC,UAAT,EAAlB;AAEAD,IAAI,CAACM,aAAL,GAAqBJ,QAAQ,CAACK,IAAT,CAAcJ,MAAd,CAAqB;AACzCK,EAAAA,QAAQ,EAAEC,CAAC,CAACD,QAAF,CAAW,SACf,gCADe,GAEf,8EAFe,GAGf,gDAHe,GAIf,OAJe,GAKf,OALI,CAD+B;AAOzCE,EAAAA,UAAU,EAAE,sBAAW;AACtB,SAAKL,UAAL,CAAgBM,EAAhB,CAAmB,MAAnB,EAA2B,KAAKC,MAAhC,EAAwC,IAAxC;AACA,SAAKP,UAAL,CAAgBQ,KAAhB;AACA,GAVwC;AAWzCD,EAAAA,MAAM,EAAE,kBAAW;AAClB,SAAKE,CAAL,CAAO,IAAP,EAAaC,IAAb,CAAkB,EAAlB;AACA,SAAKV,UAAL,CAAgBW,IAAhB,CAAqB,KAAKC,UAA1B,EAAsC,IAAtC;AACA,GAdwC;AAezCA,EAAAA,UAAU,EAAE,oBAASC,IAAT,EAAe;AAC1B,SAAKJ,CAAL,CAAO,IAAP,EAAaK,MAAb,CAAoB,KAAKX,QAAL,CAAcU,IAAI,CAACE,UAAnB,CAApB;AACA;AAjBwC,CAArB,CAArB;AAoBApB,IAAI,CAACO,IAAL,GAAYL,QAAQ,CAACK,IAAT,CAAcJ,MAAd,CAAqB;AAChCkB,EAAAA,EAAE,EAAE,OAD4B;AAEhCX,EAAAA,UAAU,EAAE,sBAAW;AACtB,SAAKY,GAAL,CAASP,IAAT,CAAcD,CAAC,CAAC,eAAD,CAAD,CAAmBC,IAAnB,EAAd;AAEA,QAAIf,IAAI,CAACM,aAAT,CAAuB;AAAEe,MAAAA,EAAE,EAAE,KAAKP,CAAL,CAAO,WAAP,CAAN;AAChBT,MAAAA,UAAU,EAAE,KAAKA;AADD,KAAvB;AAEA;AAP+B,CAArB,CAAZ;;AAUAL,IAAI,CAACuB,OAAL,GAAe,YAAW;AACzBC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AAEA3B,EAAAA,MAAM,GAAGF,IAAI,CAAC8B,KAAL,CAAWC,GAAX,CAAe,UAAf,CAAT;AAEA,MAAI5B,IAAI,CAACO,IAAT,CAAc;AAAEF,IAAAA,UAAU,EAAEL,IAAI,CAACK;AAAnB,GAAd;AAEAP,EAAAA,YAAY;AACZ,CARD;;AAUAgB,CAAC,CAAC,0BAAD,CAAD,CAA8BH,EAA9B,CAAiC,OAAjC,EAA0CX,IAAI,CAACuB,OAA/C;AAEA,eAAevB,IAAf;AACA,OAAO,IAAID,MAAJ","sourcesContent":["import USER from \"./user\";\nimport {chatFunction} from \"../chat/index\";\n\nvar player;\n\nlet CHAT = {};\n\nCHAT.Collection = Backbone.Collection.extend({\n\turl: function() {\n\t\treturn \"/roomchat/index\";\n\t}\n});\nCHAT.collection = new CHAT.Collection();\n\nCHAT.ViewRoomchats = Backbone.View.extend({\n\ttemplate: _.template(\"<li>\" +\n\t\t\t\t\t\t \"<label><%= roomname %></label>\" +\n\t\t\t\t\t\t \"<input type='password' id='password<%= roomname %>' placeholder='password'/>\" +\n\t\t\t\t\t\t \"<button id='room<%= roomname %>'>join</button>\" +\n\t\t\t\t\t\t \"<hr/>\" +\n\t\t\t\t\t\t \"</li>\"),\n\tinitialize: function() {\n\t\tthis.collection.on(\"sync\", this.render, this);\n\t\tthis.collection.fetch();\n\t},\n\trender: function() {\n\t\tthis.$(\"ul\").html(\"\");\n\t\tthis.collection.each(this.renderItem, this);\n\t},\n\trenderItem: function(item) {\n\t\tthis.$(\"ul\").append(this.template(item.attributes));\n\t}\n});\n\nCHAT.View = Backbone.View.extend({\n\tel: \"#main\",\n\tinitialize: function() {\n\t\tthis.$el.html($(\"#chatTemplate\").html());\n\n\t\tnew CHAT.ViewRoomchats({ el: this.$(\"#chatroom\"),\n\t\t\t\t\t\t\t\t collection: this.collection });\n\t}\n});\n\nCHAT.display = function() {\n\twindow.location.hash = \"#chat\";\n\n\tplayer = USER.model.get(\"username\");\n\n\tnew CHAT.View({ collection: CHAT.collection });\n\n\tchatFunction();\n};\n\n$(\"#nav input[value='Chat']\").on(\"click\", CHAT.display);\n\nexport default CHAT;\nexport var player;\n"]},"metadata":{},"sourceType":"module"}